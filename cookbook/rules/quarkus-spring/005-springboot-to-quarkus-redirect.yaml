- category: mandatory
  customVariables: []
  description: SpringBoot to Quarkus
  effort: 1
  labels:
    - konveyor.io/source=springboot
    - konveyor.io/target=quarkus
  links: []
  message: "SpringBoot to Quarkus."
  ruleID: 005-springboot-to-quarkus-redirect
  when:
    condition: |
      java.annotation is 'org.springframework.stereotype.Controller'
  order: 5
  instructions:
    ai:
      - tasks:
          - "TODO"
    manual:
      - todo: "See openrewrite instructions"
    openrewrite:
      - name: SpringBoot to Quarkus
        description: Adapt the REST GET /home endpoint as we don't support Model view of Spring Boot
        recipeList:
          - dev.snowdrop.openrewrite.recipe.spring.ReplaceMethodBodyContent:
              methodPattern: "com.todo.app.controller.TaskController viewIndexPage(..)"
              replacement: |
                return RestResponse.temporaryRedirect(new URI("/home"));
          - dev.snowdrop.openrewrite.recipe.spring.ChangeMethodReturnType:
              methodPattern: "com.todo.app.controller.TaskController viewIndexPage(..)"
              newReturnType: "RestResponse<String>"
        gav:
        - dev.snowdrop:openrewrite-recipes:1.0.0-SNAPSHOT
        - org.openrewrite:rewrite-java:8.67.1
