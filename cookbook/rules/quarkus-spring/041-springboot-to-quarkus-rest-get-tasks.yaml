- category: mandatory
  customVariables: []
  description: SpringBoot to Quarkus
  effort: 1
  labels:
    - konveyor.io/source=springboot
    - konveyor.io/target=quarkus
  links: []
  message: "SpringBoot to Quarkus."
  ruleID: 041-springboot-to-quarkus-rest-get-tasks
  when:
    condition: |
      java.annotation is 'org.springframework.stereotype.Controller'
  order: 7
  instructions:
    ai:
      - tasks:
          - "TODO"
    manual:
      - todo: "See openrewrite instructions"
    openrewrite:
      - name: SpringBoot to Quarkus
        description: Adapt the REST GET /home endpoint as we don't support Model view of Spring Boot
        recipeList:
          - dev.snowdrop.mtool.openrewrite.recipe.java.RemoveMethodParameters:
              methodPattern: "com.todo.app.controller.TaskController viewHome(..)"
          - dev.snowdrop.mtool.openrewrite.recipe.java.ReplaceMethodBodyContent:
              methodPattern: "com.todo.app.controller.TaskController viewHome(..)"
              replacement: |
                List<Task> tasks = taskService.getAllTasks();
                return ResponseEntity.ok(tasks);
          - dev.snowdrop.mtool.openrewrite.recipe.java.ChangeMethodReturnType:
              methodPattern: "com.todo.app.controller.TaskController viewHome(..)"
              newReturnType: "org.springframework.http.ResponseEntity<List<Task>>"
        gav:
        - dev.snowdrop.mtool:openrewrite-recipes:1.0.4
        - org.openrewrite:rewrite-java:8.67.1
